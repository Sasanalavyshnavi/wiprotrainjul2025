<div class="container mt-4">
  <h2 class="mb-4 text-center">✈ Flight Search Results</h2>
  <div class="row">
    <!-- Left: Filters -->
    <div class="col-md-3">
      <div class="card shadow-sm mb-3">
        <div class="card-header bg-primary text-white">
          <h6 class="mb-0">Filter by Airlines</h6>
        </div>
        <div class="card-body">
          <div *ngFor="let airline of airlines" class="form-check mb-2">
            <input class="form-check-input" type="checkbox" (change)="onAirlineFilterChange($event, airline)" id="{{airline}}" />
            <label class="form-check-label" for="{{airline}}">
              {{ airline }}
            </label>
          </div>
        </div>
      </div>
    </div>

    <!-- Right: Flight Details -->
    <div class="col-md-9">
      <div *ngIf="filteredFlights.length > 0; else noFlights">
        <div class="row g-3">
          <div class="col-12" *ngFor="let flight of filteredFlights">
            <div class="card shadow-sm mb-3 hover-shadow">
              <div class="card-body d-flex justify-content-between align-items-center flex-wrap">
                <div>
                  <h6 class="mb-1">{{ flight.airline }}</h6>
                  <small class="text-muted">{{ flight.source }} → {{ flight.destination }}</small><br>
                  <small class="text-muted">{{ flight.startDate | date:'short' }} - {{ flight.endDate | date:'short' }}</small>
                </div>
                <div class="text-end mt-2 mt-md-0">
                  <p class="mb-1"><strong>Duration:</strong> {{ getDuration(flight.startDate, flight.endDate) }}</p>
                  <p class="mb-1"><strong>Price:</strong> ₹{{ flight.price }}</p>
                  <button class="btn btn-success btn-sm mt-1" (click)="book(flight.flightId)">Book Now</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <ng-template #noFlights>
        <p class="text-center text-muted fs-5 mt-4">No flights found. Try adjusting your search criteria.</p>
      </ng-template>
    </div>
  </div>
</div>
